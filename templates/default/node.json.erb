{
    "capabilities":
        [
<% if node.recipes.include?("selenium::firefox") %>
            {
                "browserName": "firefox",
                "version": "<%= @ffversion %>",
                "maxInstances": <%= @ffmaxinstances %>,
                "seleniumProtocol": "WebDriver",
                "platform": "LINUX"
            },
<% end %>
<% if node.recipes.include?("selenium::opera") %>
            {
                "browserName": "opera",
                "version": "<%= @operaversion %>",
                "maxInstances": <%= @operamaxinstances %>,
                "seleniumProtocol": "WebDriver",
                "platform": "LINUX"
            },
<% end %>
<% if node.recipes.include?("selenium::opera") %>
            {
                "browserName": "chrome",
                "version": "<%= @chromeversion %>",
                "maxInstances": <%= @chromemaxinstances %>,
                "seleniumProtocol": "WebDriver",
                "platform": "LINUX"
            },
<% end %>
            {
                "browserName": "htmlunit",
                "version": "<%= @htmlunitversion %>",
                "maxInstances": <%= @htmlunitmaxinstances %>,
                "seleniumProtocol": "WebDriver",
                "platform": "LINUX"
            },
        ],
    "configuration":
        {
            "proxy": "org.openqa.grid.selenium.proxy.DefaultRemoteProxy",
            "maxSession": 5,
            "register": true,
            "registerCycle": 5000,
            "hubPort": <%= @hubPort %>,
            "hubHost": "<%= @hubHost %>"
        }
}
